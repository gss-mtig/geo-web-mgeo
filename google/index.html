
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Programació de geoaplicacions web">
      
      
        <meta name="author" content="geo-web-mgeo">
      
      
        <link rel="canonical" href="https://gss-mtig.github.io/geo-web-mgeo/google/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../arcgis/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>Google Maps JavaScript API - Programació de geoaplicacions web</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#libreria-google-maps-javascript-api-v3" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Programació de geoaplicacions web" class="md-header__button md-logo" aria-label="Programació de geoaplicacions web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programació de geoaplicacions web
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Google Maps JavaScript API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gss-mtig/geo-web-mgeo" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Programació de geoaplicacions web" class="md-nav__button md-logo" aria-label="Programació de geoaplicacions web" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Programació de geoaplicacions web
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gss-mtig/geo-web-mgeo" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Google Maps JavaScript API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Google Maps JavaScript API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mi-primer-mapa" class="md-nav__link">
    <span class="md-ellipsis">
      Mi primer mapa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controles-de-mapa-integrados" class="md-nav__link">
    <span class="md-ellipsis">
      Controles de mapa integrados
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Controles de mapa integrados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opciones-de-los-controles" class="md-nav__link">
    <span class="md-ellipsis">
      Opciones de los controles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Opciones de los controles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-maptype" class="md-nav__link">
    <span class="md-ellipsis">
      Control MapType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-colocar-los-controles" class="md-nav__link">
    <span class="md-ellipsis">
      Cómo colocar los controles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superposiciones" class="md-nav__link">
    <span class="md-ellipsis">
      Superposiciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Superposiciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marcadores" class="md-nav__link">
    <span class="md-ellipsis">
      Marcadores
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marcadores-personalizados" class="md-nav__link">
    <span class="md-ellipsis">
      Marcadores personalizados
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lineas" class="md-nav__link">
    <span class="md-ellipsis">
      Líneas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poligonos" class="md-nav__link">
    <span class="md-ellipsis">
      Polígonos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ventana-de-informacion" class="md-nav__link">
    <span class="md-ellipsis">
      Ventana de información
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superposiciones-personalizadas" class="md-nav__link">
    <span class="md-ellipsis">
      Superposiciones personalizadas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geojson" class="md-nav__link">
    <span class="md-ellipsis">
      GeoJSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kml" class="md-nav__link">
    <span class="md-ellipsis">
      KML
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#street-view" class="md-nav__link">
    <span class="md-ellipsis">
      Street View
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    <span class="md-ellipsis">
      Routing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-entregable" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio entregable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      Referencias
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../arcgis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ArcGIS API for Javascript
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../openLayers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenLayers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../turf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Turf
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../leaflet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Leaflet
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../maplibre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MapLibre GL JS (Mapbox GL)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mi-primer-mapa" class="md-nav__link">
    <span class="md-ellipsis">
      Mi primer mapa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controles-de-mapa-integrados" class="md-nav__link">
    <span class="md-ellipsis">
      Controles de mapa integrados
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Controles de mapa integrados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opciones-de-los-controles" class="md-nav__link">
    <span class="md-ellipsis">
      Opciones de los controles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Opciones de los controles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-maptype" class="md-nav__link">
    <span class="md-ellipsis">
      Control MapType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-colocar-los-controles" class="md-nav__link">
    <span class="md-ellipsis">
      Cómo colocar los controles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superposiciones" class="md-nav__link">
    <span class="md-ellipsis">
      Superposiciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Superposiciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marcadores" class="md-nav__link">
    <span class="md-ellipsis">
      Marcadores
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marcadores-personalizados" class="md-nav__link">
    <span class="md-ellipsis">
      Marcadores personalizados
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lineas" class="md-nav__link">
    <span class="md-ellipsis">
      Líneas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poligonos" class="md-nav__link">
    <span class="md-ellipsis">
      Polígonos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ventana-de-informacion" class="md-nav__link">
    <span class="md-ellipsis">
      Ventana de información
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superposiciones-personalizadas" class="md-nav__link">
    <span class="md-ellipsis">
      Superposiciones personalizadas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geojson" class="md-nav__link">
    <span class="md-ellipsis">
      GeoJSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kml" class="md-nav__link">
    <span class="md-ellipsis">
      KML
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#street-view" class="md-nav__link">
    <span class="md-ellipsis">
      Street View
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    <span class="md-ellipsis">
      Routing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-entregable" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio entregable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      Referencias
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="libreria-google-maps-javascript-api-v3">Librería Google Maps JavaScript API V3</h1>
<p>La API de Google Maps forma parte de la Google Maps Platform lo que fácilita la integración con todos los productos disponibles de esta plataforma. </p>
<p>Es una API que está bien documentada y cuenta con el poder de Google para su desarrollo y mantenimiento. Tiene una muy buena integración con diferentes servicios de Google como lo son el routing, places (para buscar lugares), SDK tanto para iOS como para Android, etc. Todo esto tiene un coste y más ahora que desde el 2018 cambiaron su política de precios y han aumentado mucho los precios.</p>
<p>La referencia de la API la podemos ver en <a href="https://developers.google.com/maps/documentation/javascript/reference/?hl=es">https://developers.google.com/maps/documentation/javascript/reference/?hl=es</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Para obtener una API KEY hay que tener una cuenta de google y introducir un númeor de tarjeta de crédito (aunque no cobren nada durante el período de prueba). Dado que no vamos a introducir ningún número de tarjeta de crédito los ejemplos los veremos directamente de los ejemplos de la documentación de google.</p>
</div>
<p>Si tenemos uan API KEY podemos cargar la libreria en nuestro html de la siguiente forma:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">  </span><span class="p">(</span><span class="nx">g</span><span class="p">=&gt;{</span><span class="kd">var</span><span class="w"> </span><span class="nx">h</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="s2">&quot;The Google Maps JavaScript API&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="s2">&quot;google&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;importLibrary&quot;</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="s2">&quot;__ib__&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nb">document</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nb">window</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="p">{});</span><span class="kd">var</span><span class="w"> </span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">maps</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">maps</span><span class="o">=</span><span class="p">{}),</span><span class="nx">r</span><span class="o">=</span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="ow">new</span><span class="w"> </span><span class="nx">URLSearchParams</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="p">()=&gt;</span><span class="nx">h</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="k">async</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">n</span><span class="p">)=&gt;{</span><span class="k">await</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">));</span><span class="nx">e</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;libraries&quot;</span><span class="p">,[...</span><span class="nx">r</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">g</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[A-Z]/g</span><span class="p">,</span><span class="nx">t</span><span class="p">=&gt;</span><span class="s2">&quot;_&quot;</span><span class="o">+</span><span class="nx">t</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()),</span><span class="nx">g</span><span class="p">[</span><span class="nx">k</span><span class="p">]);</span><span class="nx">e</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">+</span><span class="s2">&quot;.maps.&quot;</span><span class="o">+</span><span class="nx">q</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="sb">`https://maps.</span><span class="si">${</span><span class="nx">c</span><span class="si">}</span><span class="sb">apis.com/maps/api/js?`</span><span class="o">+</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="p">()=&gt;</span><span class="nx">h</span><span class="o">=</span><span class="nx">n</span><span class="p">(</span><span class="ne">Error</span><span class="p">(</span><span class="nx">p</span><span class="o">+</span><span class="s2">&quot; could not load.&quot;</span><span class="p">));</span><span class="nx">a</span><span class="p">.</span><span class="nx">nonce</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;script[nonce]&quot;</span><span class="p">)</span><span class="o">?</span><span class="p">.</span><span class="nx">nonce</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">)}));</span><span class="nx">d</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">?</span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">p</span><span class="o">+</span><span class="s2">&quot; only loads once. Ignoring:&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="p">,...</span><span class="nx">n</span><span class="p">)=&gt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">().</span><span class="nx">then</span><span class="p">(()=&gt;</span><span class="nx">d</span><span class="p">[</span><span class="nx">l</span><span class="p">](</span><span class="nx">f</span><span class="p">,...</span><span class="nx">n</span><span class="p">))})({</span>
<span class="w">    </span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;YOUR_API_KEY&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">v</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;weekly&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// Use the &#39;v&#39; parameter to indicate the version to use (weekly, beta, alpha, etc.).</span>
<span class="w">    </span><span class="c1">// Add other bootstrap parameters as needed, using camel case.</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>Los ejemplos de la API los podemos ver en <a href="https://developers.google.com/maps/documentation/javascript/examples?hl=es">https://developers.google.com/maps/documentation/javascript/examples?hl=es</a></p>
<h2 id="mi-primer-mapa">Mi primer mapa</h2>
<p>Abriremos el ejemplo de Simple map <a href="https://developers.google.com/maps/documentation/javascript/examples/map-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/map-simple?hl=es</a> y cambiaremos el Javascript por el siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">map</span><span class="p">;</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">initMap</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">Map</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">importLibrary</span><span class="p">(</span><span class="s2">&quot;maps&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">mapOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">center</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">lat</span><span class="o">:</span><span class="w"> </span><span class="mf">42</span><span class="p">,</span><span class="w"> </span><span class="nx">lng</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// o new google.maps.LatLng(42,2),</span>
<span class="w">    </span><span class="nx">zoom</span><span class="o">:</span><span class="mf">9</span><span class="p">,</span>
<span class="w">    </span><span class="nx">mapTypeId</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;satellite&#39;</span><span class="w"> </span><span class="c1">//o  google.maps.MapTypeId.SATELLITE</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;map&quot;</span><span class="p">),</span><span class="w"> </span><span class="nx">mapOptions</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<ul>
<li>Center: Posición en coordenadas geográficas</li>
<li>Zoom: Nivel de zoom. El nivel 0 corresponde a nivel mundial. Alcanza hasta 18 niveles de zoom</li>
<li>Tipos de mapas:<ul>
<li>ROADMAP, que muestra los mosaicos normales en 2D predeterminados de Google Maps.</li>
<li>SATELLITE muestra imágenes de satélite.</li>
<li>HYBRID muestra una mezcla de mosaicos fotográficos y una capa de mosaicos para los elementos del mapa más destacados (carreteras, nombres de ciudades, etc.).</li>
<li>TERRAIN muestra mosaicos de relieve físico para indicar las elevaciones del terreno y las fuentes de agua (montañas, ríos, etc.).</li>
</ul>
</li>
</ul>
<h2 id="controles-de-mapa-integrados">Controles de mapa integrados</h2>
<p>El API de Google Maps dispone de varios controles integrados que puedes emplear en tus mapas:</p>
<ul>
<li>El <strong>control de zoom</strong> muestra un control deslizante (para mapas grandes) o pequeños botones "+/-" (para mapas pequeños) que permiten controlar el nivel de zoom del mapa. Este control aparece en la esquina superior izquierda del mapa de forma predeterminada en dispositivos no táctiles o en la esquina inferior izquierda del mapa en los dispositivos táctiles.</li>
<li>El <strong>control de desplazamiento</strong> muestra botones para desplazarse por el mapa. Este control aparece en la esquina superior izquierda del mapa de forma predeterminada en dispositivos no táctiles. El control de desplazamiento también te permite girar imágenes de 45º, si están disponibles.</li>
<li>El <strong>control de escala</strong> muestra un elemento de escala del mapa. Este control está inhabilitado de forma predeterminada.</li>
<li>El <strong>control MapType</strong> permite al usuario alternar entre los diferentes tipos de mapas, como ROADMAP (mapa de carreteras) y SATELLITE (satélite). Este control aparece en la esquina superior derecha del mapa de forma predeterminada.</li>
<li>El <strong>control de Street View</strong> incluye un icono de hombrecito naranja que se puede arrastrar hasta el mapa para habilitar la función de Street View. Este control aparece en la esquina superior izquierda del mapa de forma predeterminada.</li>
<li>El <strong>control de giro</strong> incluye un icono circular pequeño que te permite girar mapas que contienen imágenes oblicuas. Este control aparece en la esquina superior izquierda del mapa de forma predeterminada (para obtener más información, consulta la documentación sobre imágenes de 45º).</li>
<li>El <strong>control de mapa general</strong> muestra un mapa general en miniatura que refleja la ventana gráfica del mapa actual dentro de una zona más amplia. Este control aparece en la esquina inferior derecha del mapa y se muestra contraído de forma predeterminada.</li>
</ul>
<p>No puedes acceder ni modificar estos controles del mapa directamente, pero puedes modificar los campos MapOptions del mapa que afectan a la visibilidad y a la presentación de los controles</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nx">panControl</span><span class="o">:</span><span class="w"> </span><span class="nx">booleano</span><span class="p">,</span>
<span class="w">    </span><span class="nx">zoomControl</span><span class="o">:</span><span class="w"> </span><span class="nx">booleano</span><span class="p">,</span>
<span class="w">    </span><span class="nx">mapTypeControl</span><span class="o">:</span><span class="w"> </span><span class="nx">booleano</span><span class="p">,</span>
<span class="w">    </span><span class="nx">scaleControl</span><span class="o">:</span><span class="w"> </span><span class="nx">booleano</span><span class="p">,</span>
<span class="w">    </span><span class="nx">streetViewControl</span><span class="o">:</span><span class="w"> </span><span class="nx">booleano</span><span class="p">,</span>
<span class="w">    </span><span class="nx">overviewMapControl</span><span class="o">:</span><span class="w"> </span><span class="nx">booleano</span><span class="p">,</span>
<span class="w">    </span><span class="nx">rotateControl</span><span class="o">:</span><span class="nx">booleano</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="opciones-de-los-controles">Opciones de los controles</h3>
<h4 id="control-maptype">Control MapType</h4>
<p>El <strong>control MapType</strong> puede mostrarse en una de las siguientes opciones style:</p>
<ul>
<li>google.maps.MapTypeControlStyle.HORIZONTAL_BAR muestra el conjunto de controles como botones situados en una barra horizontal como la que se muestra en Google Maps.</li>
<li>google.maps.MapTypeControlStyle.DROPDOWN_MENU muestra un control de un solo botón que permite seleccionar el tipo de mapa a través de un menú desplegable.</li>
<li>google.maps.MapTypeControlStyle.DEFAULT muestra el control "predeterminado", que depende del tamaño de la pantalla y puede cambiar en futuras versiones del API.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">mapTypeControlOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeControlStyle</span><span class="p">.</span><span class="nx">DROPDOWN_MENU</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="como-colocar-los-controles">Cómo colocar los controles</h3>
<p><img alt="Posición de los controles" src="../img/google_controls.png" title="Posición de los controles" /></p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/control-positioning?hl=es">https://developers.google.com/maps/documentation/javascript/examples/control-positioning?hl=es</a></p>
<h2 id="superposiciones">Superposiciones</h2>
<p>Google Maps API incorpora varios tipos de superposiciones</p>
<h3 id="marcadores">Marcadores</h3>
<p>Los puntos en el mapa se muestran mediante marcadores. En algunas ocasiones, los marcadores pueden mostrar imágenes de iconos personalizados, que se denominan normalmente "iconos". Los marcadores e iconos son objetos de tipo Marker.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AdvancedMarkerElement</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">importLibrary</span><span class="p">(</span><span class="s2">&quot;marker&quot;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myLatLng</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">lat</span><span class="o">:</span><span class="w"> </span><span class="mf">42</span><span class="p">,</span><span class="w"> </span><span class="nx">lng</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">marker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AdvancedMarkerElement</span><span class="p">({</span>
<span class="w">    </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nx">myLatlng</span><span class="p">,</span>
<span class="w">    </span><span class="nx">map</span><span class="o">:</span><span class="nx">map</span><span class="p">,</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="s2">&quot;Hello World!&quot;</span>
<span class="p">});</span>
</code></pre></div>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/advanced-markers-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/advanced-markers-simple?hl=es</a></p>
<h4 id="marcadores-personalizados">Marcadores personalizados</h4>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AdvancedMarkerElement</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">importLibrary</span><span class="p">(</span><span class="s2">&quot;marker&quot;</span><span class="p">);</span>

<span class="c1">// A marker with a with a URL pointing to a PNG.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">customImg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">);</span>

<span class="nx">customImg</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://betaserver.icgc.cat/mapicons/aed-2.png&#39;</span>

<span class="ow">new</span><span class="w"> </span><span class="nx">AdvancedMarkerElement</span><span class="p">({</span>
<span class="w">    </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nx">map</span><span class="p">.</span><span class="nx">getCenter</span><span class="p">(),</span>
<span class="w">    </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="nx">customImg</span><span class="p">,</span>
<span class="w">    </span><span class="nx">map</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
</code></pre></div>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/advanced-markers-basic-style?hl=es">https://developers.google.com/maps/documentation/javascript/examples/advanced-markers-basic-style?hl=es</a></p>
<p>Podéis encontrar más íconos de ejemplo en <a href="http://betaserver.icgc.cat/mapicons/">http://betaserver.icgc.cat/mapicons/</a> o en <a href="https://betaserver2.icgc.cat/maki/pin-l-f+ceff00@2x.png">https://betaserver2.icgc.cat/maki/pin-l-f+ceff00@2x.png</a></p>
<h3 id="lineas">Líneas</h3>
<p>Las líneas sobre el mapa se muestran mediante polilíneas, que representan una serie ordenada de ubicaciones. Las líneas son objetos de tipo Polyline.</p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/polyline-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/polyline-simple?hl=es</a></p>
<h3 id="poligonos">Polígonos</h3>
<p>Las áreas del mapa con forma irregular se muestran mediante polígonos, que son similares a las polilíneas. Al igual que las polilíneas, los polígonos representan una serie ordenada de ubicaciones; la diferencia estriba en que los polígonos definen la región que engloban.</p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/polygon-hole?hl=es">https://developers.google.com/maps/documentation/javascript/examples/polygon-hole?hl=es</a></p>
<p>Podéis ver la documentación tanto de líneas como de polígonos en <a href="https://developers.google.com/maps/documentation/javascript/reference/polygon?hl=es">https://developers.google.com/maps/documentation/javascript/reference/polygon?hl=es</a></p>
<h3 id="ventana-de-informacion">Ventana de información</h3>
<p>La <strong>ventana de información</strong> es también un tipo de superposición especial para la visualización de contenido (normalmente texto o imágenes) en un globo emergente que se muestra sobre el mapa en una ubicación determinada.</p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple?hl=es</a></p>
<h3 id="superposiciones-personalizadas">Superposiciones personalizadas</h3>
<p>Si quieres, también puedes implementar <strong>superposiciones personalizadas</strong>. Estas superposiciones personalizadas implementan la interfaz OverlayView.</p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/overlay-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/overlay-simple?hl=es</a></p>
<h3 id="geojson">GeoJSON</h3>
<p>Podemos agregar un geojson desde una URL que lo contenga o desde una variable que contenga el GeoJSON </p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/layer-data-style?hl=es">https://developers.google.com/maps/documentation/javascript/examples/layer-data-style?hl=es</a></p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">gasolineras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;crs&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;properties&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="s2">&quot;features&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Feature&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="s2">&quot;properties&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;lon&quot;</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">16.484670</span><span class="p">,</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;lat&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">28.428720</span><span class="p">,</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;Nombre&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;REPSOL Horario Especial 0&quot;</span><span class="p">},</span><span class="w"> </span>
<span class="w">                </span><span class="s2">&quot;geometry&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Point&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;coordinates&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="mf">16.48467</span><span class="p">,</span><span class="w"> </span><span class="mf">28.42872</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Feature&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="s2">&quot;properties&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">            </span><span class="s2">&quot;lon&quot;</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">16.460470</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="s2">&quot;lat&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">28.449530</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="s2">&quot;Nombre&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;DISA EL BOHIO L-D: 24H 0&quot;</span><span class="p">},</span><span class="w"> </span>
<span class="w">            </span><span class="s2">&quot;geometry&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Point&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;coordinates&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="mf">16.46047</span><span class="p">,</span><span class="w"> </span><span class="mf">28.44953</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span>
<span class="w">    </span><span class="p">]</span>
<span class="p">};</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">addGeoJson</span><span class="p">(</span><span class="nx">gasolineras</span><span class="p">);</span>
</code></pre></div>
<h3 id="kml">KML</h3>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/layer-kml?hl=es">https://developers.google.com/maps/documentation/javascript/examples/layer-kml?hl=es</a></p>
<h2 id="street-view">Street View</h2>
<p>Son vistas panorámicas de 360 grados de las principales rutas del mundo.</p>
<p>Se puede utilizar directamente como control en el mapa:
MapOptions: streetViewControl: true o false.</p>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/streetview-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/streetview-simple?hl=es</a></p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">uab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">lat</span><span class="o">:</span><span class="w"> </span><span class="mf">41.503317</span><span class="p">,</span><span class="w"> </span><span class="nx">lng</span><span class="o">:</span><span class="w"> </span><span class="mf">2.107957</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nb">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;map&quot;</span><span class="p">),</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">center</span><span class="o">:</span><span class="w"> </span><span class="nx">uab</span><span class="p">,</span>
<span class="w">    </span><span class="nx">zoom</span><span class="o">:</span><span class="w"> </span><span class="mf">14</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">panorama</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">StreetViewPanorama</span><span class="p">(</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;pano&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nx">uab</span><span class="p">,</span>
<span class="w">      </span><span class="nx">pov</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">heading</span><span class="o">:</span><span class="w"> </span><span class="mf">270</span><span class="p">,</span>
<span class="w">        </span><span class="nx">pitch</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="nx">map</span><span class="p">.</span><span class="nx">setStreetView</span><span class="p">(</span><span class="nx">panorama</span><span class="p">);</span>
</code></pre></div>
<h2 id="routing">Routing</h2>
<p>Google dispone de un servicio de cálculo de rutas denominado DirectionsService.
También dispone de un servicio de visualización de rutas denominado DirectionsRenderer.</p>
<p>La petición de una ruta requiere de los siguientes parámetros.
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nx">origin</span><span class="o">:</span><span class="w"> </span><span class="nx">LatLng</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Place</span><span class="p">,</span>
<span class="w">  </span><span class="nx">destination</span><span class="o">:</span><span class="w"> </span><span class="nx">LatLng</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Place</span><span class="p">,</span>
<span class="w">  </span><span class="nx">travelMode</span><span class="o">:</span><span class="w"> </span><span class="nx">TravelMode</span><span class="p">,</span>
<span class="w">  </span><span class="nx">transitOptions</span><span class="o">:</span><span class="w"> </span><span class="nx">TransitOptions</span><span class="p">,</span>
<span class="w">  </span><span class="nx">drivingOptions</span><span class="o">:</span><span class="w"> </span><span class="nx">DrivingOptions</span><span class="p">,</span>
<span class="w">  </span><span class="nx">unitSystem</span><span class="o">:</span><span class="w"> </span><span class="nx">UnitSystem</span><span class="p">,</span>
<span class="w">  </span><span class="nx">waypoints</span><span class="p">[]</span><span class="o">:</span><span class="w"> </span><span class="nx">DirectionsWaypoint</span><span class="p">,</span>
<span class="w">  </span><span class="nx">optimizeWaypoints</span><span class="o">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span>
<span class="w">  </span><span class="nx">provideRouteAlternatives</span><span class="o">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span>
<span class="w">  </span><span class="nx">avoidHighways</span><span class="o">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span>
<span class="w">  </span><span class="nx">avoidTolls</span><span class="o">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span>
<span class="w">  </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span>
<span class="p">}</span>
</code></pre></div></p>
<ul>
<li>origin: Origen de la ruta en (LatLng | String | google.maps.Place)</li>
<li>destination: Destino de la ruta en (LatLng | String | google.maps.Place)</li>
<li>travelMode: Modo de viaje <ul>
<li>DRIVING: Opción por defecto (Coche)</li>
<li>TRANSIT: Transporte público</li>
<li>BICYCLING: Bicicleta</li>
<li>WALKING: Caminando</li>
</ul>
</li>
<li>transitOptions: {
  arrivalTime: Fecha,
  departureTime: Fecha,
  modes[]: (BUS,RAIL,SUBWAY,TRAIN,TRAM)
  routingPreference: (FEWER_TRANSFERS, LESS_WALKING)
}</li>
<li>drivingOptions:{
  departureTime: Fecha,
  trafficModel: (BEST_GUESS, OPTIMISTIC, PESSIMISTIC)
},</li>
<li>unitSystem: Unidadaes,</li>
<li>waypoints[]: Puntos intermedios,</li>
<li>optimizeWaypoints: Optimizar puntos intermedios (booleano),</li>
<li>provideRouteAlternatives: Mostrar rutes alternatives (booleano),</li>
<li>avoidHighways: Evitar autopistes (booleano),</li>
<li>avoidTolls: Evitar peajes (booleano),</li>
<li>region: Región donde se calcula la ruta</li>
</ul>
<p>Ejemplo: <a href="https://developers.google.com/maps/documentation/javascript/examples/directions-simple?hl=es">https://developers.google.com/maps/documentation/javascript/examples/directions-simple?hl=es</a></p>
<h2 id="ejemplos">Ejemplos</h2>
<p>Podéis ver más ejemplos de código en <a href="https://developers.google.com/maps/documentation/javascript/examples/">https://developers.google.com/maps/documentation/javascript/examples/</a></p>
<h3 id="ejercicio-entregable">Ejercicio entregable</h3>
<div class="admonition question">
<p class="admonition-title">Ejercicio 2 pts</p>
<ol>
<li>Crear un mapa con la API de google maps. Iniciar el mapa centrado en Catalunya <strong>(0.5 pt)</strong></li>
<li>El mapa debe tener el fondo Hibrido activado por defecto <strong>(0.5 pt)</strong></li>
<li>Agregar un formulario para crear una ruta. <strong>(0.5 pt)</strong></li>
<li>Las ciudades de origen deben ser: Barcelona, Terrassa, Sabadell, Cerdanyola y Manresa.
  Los destino deben ser: Facultad de Letras de la UAB y el Parque del Tibidabo</li>
<li>Los medios de transporte debes ser: Conduciendo, Caminando, Bicicleta, Transporte público.</li>
<li>Botón para calcular la ruta.</li>
<li>Mostrar la distancia de la ruta (en Km) y el tiempo de recorrido (en la unidad más adecuada, minutos u horas) <strong>(0.5 pt)</strong></li>
</ol>
</div>
<p><img alt="Ejemplo ejercicio" src="../img/ejercicio_google.png" title="Ejemplo ejercicio" />
Ejemplo ejercicio</p>
<h2 id="referencias">Referencias</h2>
<p><a href="https://developers.google.com/maps/documentation/javascript/reference/?hl=es">https://developers.google.com/maps/documentation/javascript/reference/?hl=es</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>